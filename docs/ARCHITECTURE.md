# GoldMind 系统架构白皮书

<p align="center">
  <img src="https://img.shields.io/badge/Architecture-Enterprise-blue?style=for-the-badge" alt="Architecture">
  <img src="https://img.shields.io/badge/AI-Multi--Agent-orange?style=for-the-badge" alt="AI">
  <img src="https://img.shields.io/badge/Scale-Production-green?style=for-the-badge" alt="Scale">
</p>

---

## 一、系统概述

**GoldMind** 是一款面向全球贵金属市场的**企业级智能分析平台**，采用**多智能体协同架构（Multi-Agent Collaboration Architecture）**，融合大语言模型（LLM）与实时金融数据，为投资者提供全方位的黄金市场洞察与决策支持。

### 1.1 核心价值主张

| 维度 | 能力描述 |
|------|---------|
| **实时性** | 毫秒级行情数据同步，秒级AI分析响应 |
| **智能性** | 多智能体协同推理，RAG增强生成技术 |
| **专业性** | 汇聚全球顶级投行观点，机构级分析框架 |
| **可靠性** | 多级缓存架构，金融级数据一致性保障 |

### 1.2 技术栈全景

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          GoldMind 技术生态全景图                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   前端层          后端层              AI层              数据层              │
│   ──────          ──────            ─────             ──────              │
│                                                                             │
│   React 18    ┌── FastAPI ──┐   ┌── LLM集群 ──┐   ┌── MySQL 8.0 ──┐      │
│   TypeScript  │   Python 3.11 │   │  Zhipu AI   │   │   主存储       │      │
│   TailwindCSS │   Uvicorn     │   │  DeepSeek   │   │   事务处理     │      │
│   Vite        │   Pydantic    │   │  RAG引擎    │   └───────────────┘      │
│               │   SQLAlchemy  │   └─────────────┘   ┌── File Cache ──┐     │
│               └───────────────┘                     │   JSON持久化    │     │
│                                                     └────────────────┘     │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 二、系统架构设计

### 2.1 分层架构模型

GoldMind 采用经典的**四层架构模式**，确保系统的可扩展性、可维护性与高可用性：

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              表现层 (Presentation Layer)                     │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                        用户交互界面                                   │   │
│  │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐              │   │
│  │  │   Web应用     │  │  移动端应用   │  │  第三方API   │              │   │
│  │  │  (React 18)   │  │   (规划中)    │  │   接入端      │              │   │
│  │  └──────────────┘  └──────────────┘  └──────────────┘              │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────┘
                                       │
                                       ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                              网关层 (Gateway Layer)                          │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                    FastAPI 企业级网关                                 │   │
│  │                                                                     │   │
│  │   ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐          │   │
│  │   │ CORS跨域 │  │ 限流控制 │  │ 认证鉴权 │  │ 日志追踪 │          │   │
│  │   │ 中间件   │  │ 中间件   │  │ 中间件   │  │ 中间件   │          │   │
│  │   └──────────┘  └──────────┘  └──────────┘  └──────────┘          │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────┘
                                       │
                                       ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                              服务层 (Service Layer)                          │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                    AI智能体编排中心 (Agent Orchestrator)              │   │
│  │                                                                     │   │
│  │    ┌──────────────┐    ┌──────────────┐    ┌──────────────┐        │   │
│  │    │   市场分析    │    │   机构预测    │    │   舆情监测    │        │   │
│  │    │   智能体      │◄──►│   智能体      │◄──►│   智能体      │        │   │
│  │    │  (Market)    │    │(Institution) │    │   (News)     │        │   │
│  │    └──────┬───────┘    └──────┬───────┘    └──────┬───────┘        │   │
│  │           │                   │                   │                 │   │
│  │           └───────────────────┼───────────────────┘                 │   │
│  │                               ▼                                     │   │
│  │                    ┌─────────────────────┐                         │   │
│  │                    │   投资决策智能体     │                         │   │
│  │                    │  (Investment RAG)   │                         │   │
│  │                    └──────────┬──────────┘                         │   │
│  │                               │                                     │   │
│  │                               ▼                                     │   │
│  │                    ┌─────────────────────┐                         │   │
│  │                    │   市场总结服务      │                         │   │
│  │                    │  (Aggregator)       │                         │   │
│  │                    └─────────────────────┘                         │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐   │
│  │                      业务服务集群 (Business Services)                  │   │
│  │                                                                     │   │
│  │   ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐             │   │
│  │   │ 行情服务 │ │ 因子分析 │ │ 机构数据 │ │ 投资建议 │             │   │
│  │   │ Service  │ │ Service  │ │ Service  │ │ Service  │             │   │
│  │   └──────────┘ └──────────┘ └──────────┘ └──────────┘             │   │
│  └─────────────────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────────────────┘
                                       │
                                       ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                              数据层 (Data Layer)                             │
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐             │
│  │   MySQL 8.0     │  │   文件缓存层     │  │   内存缓存层     │             │
│  │   ├─ 主存储      │  │   ├─ JSON缓存   │  │   ├─ Redis      │             │
│  │   ├─ 事务处理    │  │   ├─ TTL过期    │  │   ├─ LRU淘汰    │             │
│  │   └─ 索引优化    │  │   └─ 持久化     │  │   └─ 分布式     │             │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘             │
└─────────────────────────────────────────────────────────────────────────────┘
                                       │
                                       ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                           外部服务层 (External Services)                      │
│                                                                             │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐   │
│  │   智谱 AI     │  │   DeepSeek   │  │   腾讯财经    │  │   RSS聚合    │   │
│  │  (GLM-4-Plus)│  │  (DeepSeek-V3)│  │   (实时行情)  │  │   (新闻源)    │   │
│  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘   │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.2 智能体协作模型

GoldMind 的核心创新在于其**多智能体协同决策机制**，各智能体通过**消息总线**进行异步通信，实现分布式智能推理：

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         智能体协作决策流程图                                  │
└─────────────────────────────────────────────────────────────────────────────┘

                              用户请求输入
                                   │
                                   ▼
                        ┌─────────────────────┐
                        │    请求路由器        │
                        │  (Request Router)   │
                        └──────────┬──────────┘
                                   │
              ┌────────────────────┼────────────────────┐
              │                    │                    │
              ▼                    ▼                    ▼
    ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐
    │   市场分析智能体  │  │   机构预测智能体  │  │   舆情监测智能体  │
    │  MarketAnalyzer │  │ InstitutionPred │  │  NewsSentiment  │
    │                 │  │                 │  │                 │
    │ • 技术面分析      │  │ • 高盛预测       │  │ • 情感分析       │
    │ • 基本面因子      │  │ • 瑞银预测       │  │ • 关键词提取     │
    │ • 多空因子识别    │  │ • 大摩预测       │  │ • 事件影响评估   │
    │ • 趋势判断       │  │ • 花旗预测       │  │ • 热度排序       │
    └────────┬────────┘  └────────┬────────┘  └────────┬────────┘
             │                    │                    │
             └────────────────────┼────────────────────┘
                                  │
                                  ▼
                       ┌─────────────────────┐
                       │   知识融合层         │
                       │ (Knowledge Fusion)  │
                       └──────────┬──────────┘
                                  │
                                  ▼
                       ┌─────────────────────┐
                       │   投资决策智能体     │
                       │  (Investment RAG)   │
                       │                     │
                       │ • 多维度信息整合     │
                       │ • RAG增强生成       │
                       │ • 策略建议生成       │
                       │ • 风险评估         │
                       └──────────┬──────────┘
                                  │
                                  ▼
                       ┌─────────────────────┐
                       │   响应聚合器         │
                       │ (Response Aggregator)│
                       └──────────┬──────────┘
                                  │
                                  ▼
                            结构化决策报告
```

---

## 三、核心智能体详解

### 3.1 市场分析智能体 (Market Analyzer Agent)

**职责定位**：技术面与基本面综合分析

**核心能力**：
- 实时行情数据解析（K线形态、成交量、波动率）
- 多空因子识别与量化评估
- 支撑/阻力位动态计算
- 趋势方向与强度判断

**技术实现**：
```python
class MarketAnalyzerAgent(BaseAgent):
    """
    市场分析智能体 - 基于多维度数据的深度市场洞察
    
    输入：
        - 实时黄金价格数据 (Tick级/分钟级/K线级)
        - 24小时全球新闻舆情
        - 历史价格趋势与统计特征
    
    输出：
        - 看涨因子列表 (含影响权重)
        - 看跌因子列表 (含影响权重)
        - 市场情绪评估 (恐慌/贪婪指数)
        - 技术面综合评分
    
    模型：智谱AI GLM-4-Plus (支持实时搜索增强)
    """
```

### 3.2 机构预测智能体 (Institution Prediction Agent)

**职责定位**：全球顶级投行观点聚合与追踪

**监控机构**：
| 机构 | 英文名称 | 权重 |
|------|---------|------|
| 高盛 | Goldman Sachs | 25% |
| 瑞银 | UBS | 25% |
| 摩根士丹利 | Morgan Stanley | 25% |
| 花旗 | Citi | 25% |

**核心能力**：
- 实时搜索机构最新研报与观点
- 历史预测准确率追踪
- 机构观点一致性分析
- 目标价区间聚合

### 3.3 舆情监测智能体 (News Analyzer Agent)

**职责定位**：全球金融舆情实时监测与情感分析

**数据源**：
- 主流财经媒体 RSS 订阅
- 社交媒体热点追踪
- 央行政策公告监测
- 地缘政治事件预警

**分析维度**：
```
舆情分析输出结构：
├── 情感极性 (Sentiment Polarity)
│   ├── 正面 (+1.0 ~ +0.1)
│   ├── 中性 (-0.1 ~ +0.1)
│   └── 负面 (-0.1 ~ -1.0)
├── 重要性评级 (Importance)
│   ├── 🔴 极高 (市场决定性影响)
│   ├── 🟠 高 (显著影响)
│   ├── 🟡 中 (一般影响)
│   └── 🟢 低 (轻微影响)
├── 关键词提取 (Keywords)
│   └── TF-IDF + 命名实体识别
└── 事件影响摘要 (Impact Summary)
    └── 对黄金价格的潜在影响分析
```

### 3.4 投资决策智能体 (Investment Advice Agent)

**职责定位**：个性化投资策略生成与风险评估

**技术架构**：**RAG (检索增强生成)**

**策略矩阵**：
| 策略类型 | 风险等级 | 适用场景 | 持仓建议 |
|---------|---------|---------|---------|
| 保守型 | 低 | 市场不确定性高 | 轻仓/观望 |
| 平衡型 | 中 | 趋势明确 | 适度配置 |
| 进取型 | 高 | 重大机会窗口 | 积极布局 |

**模型配置**：
- 基座模型：DeepSeek-V3 (671B参数)
- 上下文窗口：128K tokens
- 推理能力：复杂多步推理
- 响应速度：< 3秒

---

## 四、数据流转架构

### 4.1 实时行情数据流

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         实时行情数据流水线                                    │
└─────────────────────────────────────────────────────────────────────────────┘

    腾讯财经API
         │
         ▼
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│   数据采集层     │────►│   数据清洗层     │────►│   数据分发层     │
│  Data Collector │     │ Data Processor  │     │  Distributor    │
│                 │     │                 │     │                 │
│ • 实时价格抓取   │     │ • 异常值过滤     │     │ • WebSocket推送 │
│ • 成交量同步     │     │ • 数据标准化     │     │ • HTTP轮询     │
│ • 时间戳校准     │     │ • 缺失值处理     │     │ • 缓存更新     │
└─────────────────┘     └─────────────────┘     └────────┬────────┘
                                                         │
                                                         ▼
                                               ┌─────────────────┐
                                               │   前端展示层     │
                                               │  React Frontend │
                                               │                 │
                                               │ • 实时价格卡片   │
                                               │ • 动态波形图     │
                                               │ • 涨跌提醒      │
                                               └─────────────────┘
```

### 4.2 AI分析流水线

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         AI智能分析处理流程                                    │
└─────────────────────────────────────────────────────────────────────────────┘

  新闻源聚合
       │
       ▼
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│   新闻采集服务   │────►│   舆情分析智能体  │────►│   情感分析结果   │
│  NewsService    │     │  NewsAnalyzer   │     │  SentimentData  │
│                 │     │                 │     │                 │
│ • RSS订阅      │     │ • NLP处理       │     │ • 情感极性      │
│ • API拉取      │     │ • 实体识别      │     │ • 重要性评级    │
│ • 去重过滤      │     │ • 主题分类      │     │ • 关键词标签    │
└─────────────────┘     └─────────────────┘     └────────┬────────┘
                                                         │
                                                         ▼
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│   市场分析智能体  │◄────┤   多源数据融合   │     │   机构预测智能体  │
│ MarketAnalyzer  │     │ Data Fusion     │     │ InstitutionPred │
│                 │     │                 │     │                 │
│ • 技术面分析    │     │ • 数据对齐      │     │ • 机构搜索      │
│ • 多空因子      │     │ • 权重计算      │     │ • 观点聚合      │
│ • 趋势判断      │     │ • 置信度评估    │     │ • 预测对比      │
└────────┬────────┘     └─────────────────┘     └────────┬────────┘
         │                                              │
         └──────────────────┬───────────────────────────┘
                            │
                            ▼
                 ┌─────────────────────┐
                 │    投资决策智能体    │
                 │  Investment Agent   │
                 │    (RAG架构)        │
                 │                     │
                 │ • 知识检索          │
                 │ • 增强生成          │
                 │ • 策略推理          │
                 │ • 风险评估          │
                 └──────────┬──────────┘
                            │
                            ▼
                 ┌─────────────────────┐
                 │    结构化决策报告    │
                 │  Decision Report    │
                 │                     │
                 │ • 市场总结          │
                 │ • 投资建议          │
                 │ • 风险提示          │
                 │ • 数据可视化        │
                 └─────────────────────┘
```

---

## 五、缓存与性能优化

### 5.1 多级缓存架构

GoldMind 采用**三级缓存策略**，在数据新鲜度与系统性能之间取得最佳平衡：

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           多级缓存架构图                                      │
└─────────────────────────────────────────────────────────────────────────────┘

    用户请求
        │
        ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│  Level 1: 内存缓存 (Memory Cache) - 规划中                                    │
│  ─────────────────────────────────────────                                   │
│  • 访问速度: < 1ms                                                          │
│  • 存储介质: RAM                                                            │
│  • 淘汰策略: LRU (Least Recently Used)                                      │
│  • 适用场景: 热点数据、会话状态                                              │
│  • 技术选型: Redis / Memcached                                              │
└─────────────────────────────────────────────────────────────────────────────┘
        │ 未命中
        ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│  Level 2: 文件缓存 (File Cache) - 当前实现                                    │
│  ─────────────────────────────────────────                                   │
│  • 访问速度: < 50ms                                                         │
│  • 存储介质: SSD / 本地文件系统                                              │
│  • 过期策略: TTL (Time To Live)                                             │
│  • 适用场景: AI分析结果、机构预测数据                                        │
│  • 格式: JSON 结构化存储                                                     │
│  • 持久化: 服务重启后保留                                                    │
└─────────────────────────────────────────────────────────────────────────────┘
        │ 未命中
        ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│  Level 3: 数据库 (Database) - MySQL 8.0                                      │
│  ─────────────────────────────────────────                                   │
│  • 访问速度: < 200ms                                                        │
│  • 存储介质: 磁盘 (SSD优化)                                                  │
│  • 查询优化: 索引覆盖、查询缓存                                              │
│  • 适用场景: 历史数据、持久化存储                                            │
│  • 连接池: SQLAlchemy 连接池管理                                             │
└─────────────────────────────────────────────────────────────────────────────┘
        │ 未命中
        ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│  Source: 外部API (External APIs)                                             │
│  ─────────────────────────────────────────                                   │
│  • 响应时间: 500ms ~ 3000ms                                                 │
│  • 数据源: 智谱AI、DeepSeek、腾讯财经                                        │
│  • 限流策略: 令牌桶算法                                                      │
│  • 降级方案: 缓存数据 + 提示信息                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 5.2 缓存失效策略

```python
# 智能缓存刷新策略
class SmartCacheStrategy:
    """
    GoldMind 智能缓存策略
    
    设计原则:
    1. 用户体验优先: 先返回缓存数据，后台异步刷新
    2. 数据新鲜度保障: 根据数据类型设置不同TTL
    3. 系统稳定性: 防止缓存雪崩，实现优雅降级
    """
    
    TTL_CONFIG = {
        'realtime_price': 10,        # 实时价格: 10秒
        'market_analysis': 300,      # 市场分析: 5分钟
        'institution_pred': 1800,    # 机构预测: 30分钟
        'news_sentiment': 600,       # 舆情分析: 10分钟
        'investment_advice': 300,    # 投资建议: 5分钟
    }
    
    async def get_data(self, key: str, force_refresh: bool = False):
        """
        智能数据获取
        
        策略:
        - 缓存有效 + 非强制刷新 → 直接返回缓存
        - 缓存过期 + 非强制刷新 → 返回缓存 + 后台刷新
        - 强制刷新 → 阻塞式获取最新数据
        """
        cached = await self.cache.get(key)
        
        if cached and not force_refresh:
            if not self.is_expired(cached):
                return cached  # 缓存有效，直接返回
            else:
                # 缓存过期，触发后台刷新
                asyncio.create_task(self.refresh_async(key))
                return cached  # 先返回过期缓存
        
        # 无缓存或强制刷新，同步获取
        fresh_data = await self.fetch_from_source(key)
        await self.cache.set(key, fresh_data, ttl=self.TTL_CONFIG.get(key, 300))
        return fresh_data
```

---

## 六、安全架构

### 6.1 安全分层防护

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           安全防护体系                                        │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│  Layer 1: 网络安全 (Network Security)                                        │
│  ─────────────────────────────────────                                       │
│  • HTTPS/TLS 1.3 全站加密                                                   │
│  • CORS 跨域策略严格限制                                                    │
│  • DDoS 防护与流量清洗                                                      │
│  • WAF (Web Application Firewall)                                           │
└─────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│  Layer 2: 应用安全 (Application Security)                                    │
│  ────────────────────────────────────────                                    │
│  • API 限流与防刷 (Rate Limiting)                                           │
│  • 输入验证与参数校验 (Pydantic Schema)                                      │
│  • SQL注入防护 (SQLAlchemy ORM)                                             │
│  • XSS防护 (React自动转义)                                                   │
│  • CSRF Token验证                                                           │
└─────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│  Layer 3: 数据安全 (Data Security)                                           │
│  ────────────────────────────────────                                        │
│  • API密钥加密存储 (环境变量)                                                │
│  • 数据库连接加密 (SSL/TLS)                                                  │
│  • 敏感数据脱敏处理                                                          │
│  • 定期密钥轮换机制                                                          │
└─────────────────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│  Layer 4: 运维安全 (Operational Security)                                    │
│  ────────────────────────────────────────                                    │
│  • 日志审计与监控                                                            │
│  • 异常行为检测                                                              │
│  • 备份与灾难恢复                                                            │
│  • 安全漏洞扫描                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 6.2 API密钥管理

```python
# 安全密钥管理最佳实践
import os
from functools import lru_cache

class SecureConfig:
    """
    安全配置管理类
    
    安全原则:
    1. 密钥永不硬编码
    2. 密钥永不提交到版本控制
    3. 生产环境使用密钥管理服务
    """
    
    @property
    def zhipu_api_key(self) -> str:
        """智谱AI API密钥"""
        return os.getenv('ZHIPU_API_KEY')
    
    @property
    def deepseek_api_key(self) -> str:
        """DeepSeek API密钥"""
        return os.getenv('DEEPSEEK_API_KEY')
    
    @property
    def database_url(self) -> str:
        """数据库连接字符串"""
        return os.getenv('DATABASE_URL')
    
    def validate(self):
        """验证必要配置是否完整"""
        required = ['ZHIPU_API_KEY', 'DEEPSEEK_API_KEY', 'DATABASE_URL']
        missing = [key for key in required if not os.getenv(key)]
        if missing:
            raise ValueError(f"Missing required environment variables: {missing}")

# 使用示例
config = SecureConfig()
config.validate()
```

---

## 七、部署架构

### 7.1 Docker Compose 生产部署

```yaml
# docker-compose.yml - 生产环境配置
version: '3.8'

services:
  # 前端服务
  frontend:
    build:
      context: ./app
      dockerfile: Dockerfile
    ports:
      - "80:80"
      - "443:443"
    environment:
      - VITE_API_URL=http://backend:8000
    depends_on:
      - backend
    restart: unless-stopped
    networks:
      - goldmind-network

  # 后端服务
  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile
    ports:
      - "8000:8000"
    environment:
      - DATABASE_URL=mysql+pymysql://goldmind:${DB_PASSWORD}@mysql:3306/goldmind
      - ZHIPU_API_KEY=${ZHIPU_API_KEY}
      - DEEPSEEK_API_KEY=${DEEPSEEK_API_KEY}
    depends_on:
      - mysql
    volumes:
      - ./cache:/app/cache
    restart: unless-stopped
    networks:
      - goldmind-network

  # 数据库服务
  mysql:
    image: mysql:8.0
    environment:
      - MYSQL_ROOT_PASSWORD=${DB_ROOT_PASSWORD}
      - MYSQL_DATABASE=goldmind
      - MYSQL_USER=goldmind
      - MYSQL_PASSWORD=${DB_PASSWORD}
    volumes:
      - mysql_data:/var/lib/mysql
      - ./init.sql:/docker-entrypoint-initdb.d/init.sql
    ports:
      - "3306:3306"
    restart: unless-stopped
    networks:
      - goldmind-network

  # 反向代理 (Nginx)
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf
      - ./ssl:/etc/nginx/ssl
    depends_on:
      - frontend
      - backend
    restart: unless-stopped
    networks:
      - goldmind-network

volumes:
  mysql_data:

networks:
  goldmind-network:
    driver: bridge
```

### 7.2 云原生部署方案

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        Kubernetes 云原生部署架构                              │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                           Ingress Controller                                 │
│                    (Nginx / Traefik / Ambassador)                            │
│                              SSL Termination                                 │
└─────────────────────────────────────────────────────────────────────────────┘
                                       │
           ┌───────────────────────────┼───────────────────────────┐
           │                           │                           │
           ▼                           ▼                           ▼
┌─────────────────────┐    ┌─────────────────────┐    ┌─────────────────────┐
│   Frontend Pods     │    │   Backend Pods      │    │   MySQL StatefulSet │
│   (React App)       │    │   (FastAPI)         │    │   (Primary)         │
│                     │    │                     │    │                     │
│   Replicas: 3       │    │   Replicas: 3       │    │   Replicas: 1       │
│   HPA Enabled       │    │   HPA Enabled       │    │   PVC: 100GB        │
└─────────────────────┘    └─────────────────────┘    └─────────────────────┘
           │                           │                           │
           └───────────────────────────┼───────────────────────────┘
                                       │
                                       ▼
                          ┌─────────────────────┐
                          │   Service Mesh      │
                          │   (Istio/Linkerd)   │
                          │                     │
                          │   • mTLS加密        │
                          │   • 流量管理        │
                          │   • 可观测性        │
                          └─────────────────────┘
```

---

## 八、未来演进路线图

### 8.1 功能演进

| 阶段 | 时间 | 核心特性 | 技术亮点 |
|------|------|---------|---------|
| **V1.0** | 2025 Q1 | 黄金分析基础版 | 多智能体架构、RAG增强 |
| **V1.5** | 2025 Q2 | 多资产支持 | 白银、铂金、钯金 |
| **V2.0** | 2025 Q3 | 用户系统 | 个性化推荐、投资组合 |
| **V2.5** | 2025 Q4 | 移动端应用 | React Native、推送通知 |
| **V3.0** | 2026 Q1 | 智能预警 | 价格预警、事件驱动 |

### 8.2 技术演进

```
技术演进时间线:

2025 Q1 ──────► 2025 Q2 ──────► 2025 Q3 ──────► 2025 Q4 ──────► 2026 Q1
   │               │               │               │               │
   ▼               ▼               ▼               ▼               ▼
┌────────┐    ┌────────┐    ┌────────┐    ┌────────┐    ┌────────┐
│ 当前架构 │    │ WebSocket│    │  Redis │    │   K8s  │    │  AI模型 │
│ 文件缓存 │───►│ 实时推送 │───►│ 分布式 │───►│ 容器编排│───►│ 微调训练│
│ 同步处理 │    │ 异步架构 │    │  缓存  │    │ 自动扩缩│    │ 领域适配│
└────────┘    └────────┘    └────────┘    └────────┘    └────────┘
```

---

## 九、相关文档

| 文档 | 说明 | 链接 |
|------|------|------|
| API 文档 | 接口规范与示例 | [API.md](./API.md) |
| 部署指南 | 详细部署步骤 | [DEPLOYMENT.md](./DEPLOYMENT.md) |
| 贡献指南 | 如何参与项目 | [CONTRIBUTING.md](../CONTRIBUTING.md) |
| 项目主页 | GitHub 仓库 | [github.com/JasonBuildAI/GoldMind](https://github.com/JasonBuildAI/GoldMind) |

---

<p align="center">
  <strong>GoldMind</strong> - 智能黄金投资，洞察财富先机
  <br>
  <sub>Built with ❤️ by GoldMind Team</sub>
</p>
